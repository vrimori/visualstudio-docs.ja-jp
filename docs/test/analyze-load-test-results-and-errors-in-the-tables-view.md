---
title: Visual Studio でのロード テスト結果とエラーの分析
ms.date: 10/19/2016
ms.topic: conceptual
f1_keywords:
- vs.test.load.monitor.pageresult
- vs.test.load.dialog.column
- vs.test.load.monitor.requestresult
- vs.test.load.monitor.testresult
- vs.test.load.monitor.table.view
- vs.test.load.monitor.agentresult
- vs.test.load.monitor.transactionresult
helpviewer_keywords:
- tables, Load Test Viewer options
- load test results, tables
- load tests, Load Test Viewer
- data [Visual Studio ALM], load test tables
- Load Test Viewer, tables
- load tests, results tables
ms.assetid: 0a84bda3-6051-45eb-9c7f-d57419e1f97d
author: gewarren
ms.author: gewarren
manager: douge
ms.prod: visual-studio-dev15
ms.technology: vs-ide-test
ms.openlocfilehash: 2599968aad98339014182edf21282a4e5e26fbcf
ms.sourcegitcommit: f685fa5e2df9dc307bf1230dd9dc3288aaa408b5
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/19/2018
ms.locfileid: "36234521"
---
# <a name="analyze-load-test-results-and-errors-in-the-tables-view-of-the-load-test-analyzer"></a>ロード テスト アナライザーのテーブル ビューでのロード テスト結果とエラーの分析

ロード テストの実行結果を確認するときには、データの分析方法に応じて異なるペインを表示できます。 たとえば、データをグラフとして表示したり、時間の経過に伴うデータの変化を表示したりできます。また、データを詳細テーブルとして表示することもできます。

テーブル ビューに切り替えるには、**ロード テスト** ツール バーの **[テーブル]** を選択します。 表示するテーブルを切り替えるには、テーブル グリッドの上にあるツール バーの **[テーブル]** ドロップダウン リストを使用します。 テーブル ビューでは、一度に最大 4 つのテーブルを表示できます。 詳細については、このトピックの「[ロード テストのテーブルを並べて表示](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#tile-load-test-tables)」を参照してください。

パフォーマンス カウンターとしてテーブルに表示されるほとんどの数値は、ロード テストの実行を通して累積されていきます。 ただし、**[末尾]** という名前の列は例外で、最後のサンプリング期間で取得された値を表します。

> [!NOTE]
> **[末尾]** という名前の列は、ロード テストの実行中にのみ使用できます。 ロード テストが完了すると、使用できなくなります。

 ほとんどのテーブルでは、並べ替えを行うことができます。並べ替えるには、基準として使用する列のタイトルを選択します。 既定では、使用できる列の一部が表示されないテーブルがあります。 使用できる列がある場合は、それらをテーブルに追加できます。 列を追加するには、テーブルを右クリックし、**[列の追加と削除]** を選択します。

> [!NOTE]
> 表のデータは、さらに分析を行うために Excel など他のアプリケーションにコピーできます。

## <a name="the-load-test-tables"></a>ロード テストのテーブル

 次の表は、ロード テストの実行結果の分析に使用できるテーブルの一覧です。

|テーブル名|説明|
|----------------|-----------------|
|エラー|ロード テストの実行中に発生したエラーの一覧が表示されます。 詳細については、このトピックの「[エラー テーブル](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-errors-table)」と[ロード テストの結果の分析](../test/analyze-load-test-results-using-the-load-test-analyzer.md)に関するページを参照してください。|
|ページ数|ロード テストの実行中にアクセスされたページの一覧が表示されます。 このテーブルのデータの一部は、ロード テストが完了するまで表示されません。 詳細については、[Web ページ応答を表示する方法](../test/how-to-view-web-page-response-time-in-a-load-test.md)に関するページを参照してください。|
|要求|ロード テスト中に発行された個々の要求の詳細が表示されます。 これには、すべての HTTP 要求、およびイメージなどの依存要求が含まれます。 詳細については、このトピックの「[要求テーブル](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-requests-table)」を参照してください。|
|SQL トレース|SQL トレースの結果が表示されます。 このテーブルは、テスト中に SQL トレースが使用された場合にのみ、ロード テストの完了後に表示されます。 詳細については、このトピックの「[SQL トレース データ テーブル](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-sql-trace-data-table)」を参照してください。|
|テスト|ロード テスト中に実行される個々のテストの詳細が表示されます。 詳細については、このトピックの「[テスト テーブル](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-tests-table)」を参照してください。|
|しきい値|ロード テストの実行中に発生したしきい値規則違反の一覧が表示されます。 詳細については、「[しきい値規則違反の分析](../test/analyze-threshold-rule-violations-in-load-tests.md)」を参照してください。|
|トランザクション|ロード テストの実行中に発生したトランザクションの一覧が表示されます。 詳細については、このトピックの「[トランザクション テーブル](../test/analyze-load-test-results-and-errors-in-the-tables-view.md#the-transactions-table)」を参照してください。|
|エージェント|ロード テストでテスト コントローラーとテスト エージェントを使用している場合にのみ表示されます。 ロード テストの実行中に使用されたエージェントの一覧が表示されます。 [エージェント] テーブルには、エージェントがテストした要求の数と、それらの要求の中で失敗した要求の数が含まれています。 また、エージェントがテストしたロード テストのテスト ミックス内のテストの数と、それらのテストの中で失敗したテストの数も含まれています。|
|テストの詳細|ロード テストのテスト ミックスに含まれるテストの詳細が表示されます。 詳細には、テスト名、テストのシナリオ、テストの開始時間、テストの実行にかかった時間、およびテストの成功または失敗を示すテスト結果が含まれています。 テストが失敗した場合は、**[詳細]** 列にリンクが表示されます。 リンクを選択すると、Web テスト エディターが開いて、失敗した要求が強調表示されます。|

## <a name="collect-percentile-data"></a>パーセンタイル データの収集

 一部のロード テスト テーブルには、ネットワーク エミュレーションに基づいてグループ分けされた、パーセンタイル データおよび応答時間が格納される列を追加できます。 既定では、このデータは収集されません。 パーセンタイル データは、結果をローカルに保存したときではなく、データベースに保存したときのみ表示されます。 詳細については、「[ロード テストの結果リポジトリ内のロード テストの結果の管理](../test/manage-load-test-results-in-the-load-test-results-repository.md)」を参照してください。 また、このデータを収集するには、**ロード テスト エディター**の **[実行設定]** ノードで、変更する実行設定ノードを選択します。 **[プロパティ]** ウィンドウの **[タイミング詳細のストレージ]** プロパティで、**[StatisticsOnly]** または **[AllIndividualDetails]** を選択します。 詳細については、[Web ページ応答を表示する方法](../test/how-to-view-web-page-response-time-in-a-load-test.md)に関するページを参照してください。

## <a name="the-requests-table"></a>[要求] テーブル

 **[要求]** テーブルには、ロード テスト中に実行された個々のテストの詳細が表示されます。 これには、すべての HTTP 要求、およびイメージなどの依存要求が含まれます。 このテーブルには、要求がテストおよびシナリオごとに表示されます。これは、1 つの要求が複数のテストおよびシナリオに含まれている可能性があるためです。

 次の表は、**[要求]** テーブルの列の一覧です。

|Column|説明|既定で表示|
|------------|-----------------|------------------------|
|**要求**|要求の URL です。 たとえば、*home.html*、*orange-arrow.gif* などです。|[はい]|
|**シナリオ**|シナリオの名前です。|[はい]|
|**テスト**|テストの名前です。|[はい]|
|**合計**|ロード テストの実行中に発行された、この Web パフォーマンス テスト要求の合計数です。 合計には成功および失敗した要求が含まれますが、キャッシュされた要求は Web サーバーに発行されていないため含まれません。|[はい]|
|**成功**|要求が発行され、成功した回数です。|×|
|**失敗**|要求が発行され、失敗した回数です。 この列のエントリはハイパーリンクとして表示されます。 ハイパーリンクを選択すると、個々のエラーの一覧が **[ロード テスト エラー]** ダイアログ ボックスに表示されます。 詳細については、「[ロード テスト結果の分析](../test/analyze-load-test-results-using-the-load-test-analyzer.md)」を参照してください。|[はい]|
|**キャッシュ済み**|既にキャッシュされていた要求の合計回数です。|×|
|**要求/秒**|ロード テストの実行中の 1 秒あたりの要求数です。|×|
|**成功 (秒単位)**|ロード テストの実行中にこの要求が成功した 1 秒あたりの頻度です。|×|
|**失敗 (秒単位)**|ロード テストの実行中にこの要求が失敗した 1 秒あたりの頻度です。|×|
|**先頭バイトまでの時間**|応答の先頭バイトを受信するまでの平均時間です。要求が Web サーバーに送信された時点から計測されます。 単位は秒です。|×|
|**応答時間**|要求に対する応答全体を受信するまでの平均時間です。要求が Web サーバーに送信された時点から計測されます。 単位は秒です。|[はい]|
|**内容の長さ**|要求に対する応答の内容の平均の長さです。 単位はバイトです。|[はい]|

## <a name="the-tests-table"></a>[テスト] テーブル

 **[テスト]** テーブルには、ロード テスト中に発行された個々の要求の詳細が表示されます。 このテーブルには、テストがテストおよびシナリオごとに表示されます。これは、1 つのテストが複数のシナリオに含まれている可能性があるためです。

 次の表は、**[テスト]** テーブルの列の一覧です。

|Column|説明|既定で表示|
|------------|-----------------|------------------------|
|**テスト**|テストの名前です。|[はい]|
|**シナリオ**|シナリオの名前です。|[はい]|
|**合計**|シナリオでテストが実行された回数の合計です。 これには、成功したテストと失敗したテストの回数が含まれます。|[はい]|
|**成功**|シナリオでテストが実行され、成功した回数の合計です。|[はい]|
|**失敗**|シナリオでテストが実行され、失敗した回数の合計です。 この列のエントリはハイパーリンクとして表示されます。 ハイパーリンクを選択すると、個々のエラーの一覧が **[ロード テスト エラー]** ダイアログ ボックスに表示されます。 詳細については、「[ロード テスト結果の分析](../test/analyze-load-test-results-using-the-load-test-analyzer.md)」を参照してください。|[はい]|
|**テスト/秒**|ロード テストの実行中の 1 秒あたりのテスト数です。|[はい]|
|**成功 (秒単位)**|ロード テストの実行中にこのテストが成功した 1 秒あたりの頻度です。|×|
|**失敗 (秒単位)**|ロード テストの実行中にこのテストが失敗した 1 秒あたりの頻度です。|×|
|**テスト時間**|ロード テストの実行中に、テストの実行にかかった平均時間です。 単位は秒です。|[はい]|
|**90% テスト時間**|テスト時間の 90 パーセンタイル値です。|×|
|**95% テスト時間**|テスト時間の 95 パーセンタイル値です。|[はい]|
|**要求 (テスト毎)**|Web パフォーマンス テストの場合に、テストに含まれていた要求の平均数です。|×|

## <a name="the-transactions-table"></a>[トランザクション] テーブル

 **[トランザクション]** テーブルには、ロード テストの実行中に発生したトランザクションの一覧が表示されます。 ここでのトランザクションとは、Web パフォーマンス テストに定義されているトランザクションか、または単体テストに定義されているタイマーです。 データベース トランザクションは含まれません。

 次の表は、**[トランザクション]** テーブルの列の一覧です。

> [!NOTE]
> すべての列を表示するには、アクティブな実行設定に関連付けられている "タイミングの詳細ストレージ" プロパティを有効にする必要があります。 詳細については、「[方法: [タイミングの詳細ストレージ] プロパティを指定する](../test/how-to-specify-the-timing-details-storage-property-for-a-load-test.md)」をご覧ください。

|Column|説明|タイミングの詳細なしで表示|
|------------|-----------------|------------------------------------|
|**トランザクション**|トランザクションの名前。|[はい]|
|**シナリオ**|シナリオの名前です。|[はい]|
|**テスト**|テストの名前です。|[はい]|
|**合計**|ロード テスト中に発行されたトランザクションの合計数です。|[はい]|
|**トランザクション時間**|ロード テストの実行中に、トランザクションの実行にかかった時間です。 Web パフォーマンス テストの場合は、待ち時間も計算に含まれます。 単位は秒です。|×|
|**応答時間**|ロード テストの実行における Web パフォーマンス テスト トランザクションの応答時間です。 応答時間がトランザクション時間と異なる点として、応答時間にはトランザクション中に発生した待ち時間が含まれません。 単位は秒です。|×|
|**平均トランザクション時間**|トランザクションの平均時間です。 この時間には待ち時間が含まれます。 たとえば、3 つの要求があり、それぞれの要求に待ち時間がある場合、この時間には 3 つの要求の待ち時間と、要求を実行するための実際の時間が含まれます。|×|
|**平均応答時間**|ロード テストの実行中の Web パフォーマンス テスト トランザクションの平均応答時間です。 応答時間がトランザクション時間と異なる点として、応答時間にはトランザクション中に発生した待ち時間が含まれません。 単位は秒です。|×|
|**最小応答時間**|これには待ち時間が含まれません。|×|
|**最大応答時間**|これには待ち時間が含まれません。|×|
|**応答時間の中央値**|これには待ち時間が含まれません。|×|
|**90% 応答時間**|トランザクション時間の 90 パーセンタイル値です。 これには待ち時間が含まれません。 **注:** これは **[90% トランザクション時間]** の値を使用していた Visual Studio Team System 2008 Test Load Agent とは異なります。|×|
|**95% 応答時間**|トランザクション時間の 95 パーセンタイル値です。 これには待ち時間が含まれません。 **注:** これは **[95% トランザクション時間]** の値を使用していた Visual Studio Team System 2008 Test Load Agent とは異なります。|×|
|**99% 応答時間**|トランザクション時間の 99 パーセンタイル値です。 これには待ち時間が含まれません。|×|
|**標準偏差応答時間**|これには待ち時間が含まれません。|×|

## <a name="the-errors-table"></a>[エラー] テーブル

 ロード テストを実行する場合、発生したエラーを分析できます。 エラーの分析とテストの調整は、ロード テストの過程において重要な作業です。 なんらかのエラーが発生すると、**[エラー]** というハイパーリンクがロード テスト ステータス バーに表示され、発生したエラーの数が示されます。 エラー テーブルを表示するには、ハイパーリンクを選択します。

 エラー テーブルでは、ロード テスト中に発生したエラーが、エラーのタイプやサブタイプごとにグループ化されます。 テーブルには **[合計]** 行もあり、発生したエラーの合計数が示されます。

 エラー テーブルには次の列があります。

|Column|説明|既定で表示|
|------------|-----------------|------------------------|
|種類|エラーの種類。 たとえば、HttpError などです。|[はい]|
|SubType|エラーのサブタイプ。 たとえば、LoadTestException などです。|[はい]|
|カウント|ロード テスト中に発生したそのタイプのエラーの数。 この列のエントリはハイパーリンクとして表示されます。 ハイパーリンクを選択すると、個々のエラーの一覧が表示されます。|[はい]|
|最後のメッセージ|エラーについて説明するメッセージ。 たとえば、"404 - NotFound" などが表示されます。|[はい]|

 詳細については、「[ロード テスト テーブルの操作](../test/analyze-load-test-results-and-errors-in-the-tables-view.md)」を参照してください。

### <a name="drill-down-to-the-error-list"></a>エラー一覧の詳細表示

エラー テーブルでは、エラーがタイプとサブタイプごとにグループ化されます。 個々のエラーのテーブルを表示するには、**[ロード テスト エラー]** ダイアログ ボックスを表示します。 このダイアログ ボックスを表示するには、エラー テーブルの **[カウント]** 列のハイパーリンクを選択します。 また、このダイアログ ボックスは、表示されたエラー テーブルの行を右クリックし、**[エラー]** を選択しても表示されます。

> [!NOTE]
> どのエラー タイプおよびサブタイプの組み合わせについても、収集されるのは最初の 1,000 インスタンスのみです。 **[ロード テスト エラー]** ダイアログ ボックスを表示すると、最初の 1,000 インスタンスまでのエラーが表示されます。

**[ロード テスト エラー]** テーブルには、次の列があります。

|Column|説明|
|------------|-----------------|
|**時刻**|ロード テスト中にエラーが発生した時刻。|
|**エージェント**|エラーが発生したエージェント コンピューター名。 これは、テスト コントローラーおよびテスト エージェントを使用してロード テストを実行するときに重要です。 詳細については、[テスト エージェントのインストールと構成](../test/lab-management/install-configure-test-agents.md)に関するページを参照してください。|
|**テスト**|エラーが発生した Web パフォーマンス テスト名。|
|**シナリオ**|エラーが発生したシナリオ名。|
|**要求**|エラーが発生した要求の URL。|
|**Type**|エラーの種類。 たとえば、HttpError などです。|
|**SubType**|エラーのサブタイプ。 たとえば、LoadTestException などです。|
|**[テキスト]**|エラー メッセージのテキスト。 たとえば、"404 - NotFound" などが表示されます。|
|**スタック**|この列のエントリは空か、またはハイパーリンクが設定された**スタック**という文字列になります。 ハイパーリンクを選択すると、エラーのスタック トレースが表示されます。|
|**詳細**|この列のエントリは空か、またはハイパーリンクが設定された **TestLog** という文字列になります。 このリンクは、ロード テストでエラーを分離するのに役立ちます。 たとえば、Web パフォーマンス テスト要求エラーの **[TestLog]** リンクを選択すると、Web パフォーマンス テストの結果が Web パフォーマンス テスト結果ビューアーで開き、要求エラーがハイライトされます。|

> [!NOTE]
> テーブルは、列ヘッダーを選択することによって並べ替えることができます。

## <a name="the-sql-trace-data-table"></a>SQL トレース データ テーブル

ロード テストの実行中に、後で分析するための SQL トレース データを収集できます。 トレース データを収集すると、テストされている SQL Server データベースの中で、実行が最も遅いクエリおよびストアド プロシージャを識別できます。

SQL トレースを有効にすると、ロード テストの実行中に、トレース データが含まれるファイルが作成されます。 このデータは、テストの実行の終了時にロード テストの結果ストアに自動的に保存され、トレース ファイルは削除されます。 ロード テストの完了後、トレース データの分析は **[SQL トレース]** テーブルで行います。

### <a name="to-view-sql-trace-data"></a>SQL トレース データを表示するには

1. ロード テスト アナライザーのツール バーの **[テーブル]** を選択し、テーブル グリッドが表示されるようにします。

2. **[テーブル]** ボックスの一覧の **[SQL トレース]** を選択します。

3. トレース データは、実行をグリッドに表示している間に収集されます。 テーブルには、実行速度が遅い SQL 操作が、最も遅いものから継続時間の長い順に一覧表示されます。 通常は、**[継続時間]** 列が最初に調べる必要のある列です。 データはミリ秒単位で表示されます。

   表示される列は次のとおりです。

    - **Event クラス**

    - **期間**

    - **CPU**

    - **読み取り**

    - **書き込み**

    - **TextData**

    - **StartTime**

    - **EndTime**

   これらの列で識別されるデータ以外の SQL イベントをトレースする場合は、Visual Studio とは別の SQL Profiler ツールを使用して、独自のカスタム SQL トレースを設定できます。

## <a name="tile-load-test-tables"></a>ロード テストのテーブルを並べて表示

ロード テストの実行結果を表示するときには、データを詳細テーブルとして表示できます。 テーブル ビューに切り替えるには、**ロード テスト** ツール バーの **[テーブル]** を選択します。 表示できるテーブルは、**[エラー]**、**[ページ]**、**[要求]**、**[SQL トレース]**、**[テスト]**、**[しきい値]**、**[トランザクション]** です。 詳細については、「[ロード テスト テーブルの操作](../test/analyze-load-test-results-and-errors-in-the-tables-view.md)」を参照してください。

テーブル ビューでは、一度に最大 4 つのテーブルを重ねずに表示できます。

### <a name="to-tile-tables"></a>テーブルを並べて表示するには

1. **ロード テスト アナライザー**のツール バーで、**[テーブル]** を選択します。

     テーブル ビューが開きます。 既定のレイアウトでは、2 つのパネルが左右に並んで表示されます。

2. **ロード テスト アナライザー**のツール バーの**レイアウト** ボタンを選択し、以下のオプションのいずれかを選択します。

    - **1 つのパネル**

    - **2 つの横方向パネル**

    - **3 つの横方向パネル**

    - **4 つの横方向パネル**

3. 表示するテーブルを切り替えるには、各パネルのテーブル グリッドの上にあるドロップダウン リストを使用します。

    > [!NOTE]
    > 同じテーブルを複数のパネルに表示することはできません。 あるパネルに表示するテーブルを別のパネルに表示されているテーブルに変更すると、2 つのパネルのテーブルが入れ替わります。

## <a name="see-also"></a>関連項目

- [ロード テストの結果の分析](../test/analyze-load-test-results-using-the-load-test-analyzer.md)
- [方法 : ロード テストの結果にアクセスして分析する](../test/how-to-access-load-test-results-for-analysis.md)
- [グラフ ビューでのロード テスト結果の分析](../test/analyze-load-test-results-in-the-graphs-view.md)
- [しきい値規則違反](../test/analyze-threshold-rule-violations-in-load-tests.md)
- [ロード テストの結果リポジトリ内のロード テスト結果の管理](../test/manage-load-test-results-in-the-load-test-results-repository.md)
- [ロード テスト結果の概要](../test/load-test-results-summary-overview.md)