---
title: '方法: 基本フォン シェーダーを作成する | Microsoft Docs'
ms.custom: ''
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-general
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: c7c69da8-142b-4d3b-9be9-4be0d5970b25
caps.latest.revision: 15
author: gewarren
ms.author: gewarren
manager: ghogen
ms.openlocfilehash: 3ad96b9ed53b7600417f3c3e8a283c7a4a372842
ms.sourcegitcommit: 9ceaf69568d61023868ced59108ae4dd46f720ab
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/12/2018
ms.locfileid: "49286495"
---
# <a name="how-to-create-a-basic-phong-shader"></a>方法: 基本フォン シェーダーを作成する
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

このドキュメントでは、シェーダー デザイナーと DGSL (Directed Graph Shader Language) を使用してクラシック フォン照明モデルを実装するための照明シェーダーを作成する方法について説明します。  
  
 このドキュメントでは、以下のアクティビティについて説明します。  
  
-   シェーダー グラフへのノードの追加  
  
-   ノードの接続の解除  
  
-   ノードの接続  
  
## <a name="the-phong-lighting-model"></a>フォン照明モデル  
 フォン照明モデルは、ランバート照明モデルを拡張して、サーフェイスの反射プロパティをシミュレートする反射ハイライトを含めたものです。 反射コンポーネントは、ランバート照明モデルで使用されるのと同じ指向性光源からの追加の照明となりますが、最終的な色に対する効果の処理は異なります。 反射ハイライトがシーン内のサーフェイスに与える影響は、ビューの方向、光源の方向、サーフェイスの向きの間の関係によって、サーフェイスごとに異なります。 これは、サーフェイスの反射の色、反射の度合い、向きと、光源の色、輝度、方向で決まります。 ビューアーで光源を直接反射するサーフェイスは最大の反射効果を受け、ビューアーと反対側で光源を反射するサーフェイスは効果を受けません。 フォン照明モデルでは、1 つ以上の反射コンポーネントの組み合わせで、オブジェクトのポイントごとに反射ハイライトの色と輝度が決まります。これらのコンポーネントは、ランバート照明モデルの結果に追加されて、ピクセルの最終的な色が生成されます。  
  
 ランバート ライティング モデルの詳細については、「[方法: 基本ランバート シェーダーを作成する](../designers/how-to-create-a-basic-lambert-shader.md)」を参照してください。  
  
 開始する前に、**[プロパティ]** ウィンドウと**ツールボックス**が表示されていることを確認します。  
  
#### <a name="to-create-a-phong-shader"></a>フォン シェーダーを作成するには  
  
1.  「[方法: 基本ランバート シェーダーを作成する](../designers/how-to-create-a-basic-lambert-shader.md)」の説明に従って、ランバート シェーダーを作成します。  
  
2.  **[最終的な色]** ノードから **[ランバート]** ノードを接続解除します。 **[ランバート]** ノードの **[RGB]** ターミナルを選択し、**[リンクの解除]** を選択します。 これにより、次の手順で追加するノードのための領域を確保できます。  
  
3.  グラフに **[追加]** ノードを追加します。 **ツールボックス**の **[数式]** で **[追加]** を選択し、デザイン サーフェイスに移動します。  
  
4.  グラフに **[反射]** ノードを追加します。 **ツールボックス**の **[ユーティリティ]** で **[反射]** を選択し、デザイン サーフェイスに移動します。  
  
5.  反射の効果を追加します。 **[反射]** ノードの **[出力]** ターミナルを **[追加]** ノードの **[X]** ターミナルに移動し、**[ランバート]** ノードの **[出力]** ターミナルを **[追加]** ノードの **[Y]** ターミナルに移動します。 これらの接続により、ピクセルに対する総拡散色効果と総反射色効果が組み合わされます。  
  
6.  計算された色の値を最終的な色に接続します。 **[追加]** ノードの **[出力]** ターミナルを、**[最終的な色]** ノードの **[RGB]** ターミナルに移動します。  
  
 次の図は、完成したシェーダー グラフと、ティーポット モデルに適用されるシェーダーのプレビューを示しています。  
  
> [!NOTE]
>  この図では、シェーダーの効果を分かりやすくするために、シェーダーの **MaterialDiffuse** パラメーターを使用してオレンジ色が指定されています。また、**MaterialSpecular** パラメーターと **MaterialSpecularPower** パラメーターを使用して、金属のような仕上がりが指定されています。 マテリアル パラメーターについては、「[シェーダー デザイナー](../designers/shader-designer.md)」の「シェーダーのプレビュー」を参照してください。  
  
 ![シェーダー グラフとその効果のプレビュー](../designers/media/digit-lighting-graph.png "Digit-Lighting-Graph")  
  
 シェーダーによっては、特定の図形を使用すると、より適切にプレビューできる可能性があります。 シェーダー デザイナーでシェーダーをプレビューする方法の詳細については、「[シェーダー デザイナー](../designers/shader-designer.md)」の「シェーダーのプレビュー」を参照してください。  
  
 次の図は、このドキュメントで述べた、3-D モデルに適用されるシェーダーを示しています。 **MaterialSpecular** プロパティは (1.00、0.50、0.20、0.00) に設定され、その **MaterialSpecularPower** プロパティは 16 に設定されています。  
  
> [!NOTE]
>  **MaterialSpecular** プロパティは、表面の質感の外見上の仕上がりを決定します。 ガラスやプラスチックなどの高光沢サーフェイスの場合、反射色は明るい色合い (白) になる傾向があります。 金属のようなサーフェイスの反射色は、その拡散色に近くなる傾向があります。 サテン仕上がりのサーフェイスの反射色は、暗い色合い (灰色) になる傾向があります。  
>   
>  **MaterialSpecularPower** プロパティは、反射ハイライトの輝度を決定します。 反射輝度が高い場合は、よりくすんだ、より局部的なハイライトがシミュレートされます。 反射輝度が非常に低い場合は、広範囲に及ぶ強いハイライトがシミュレートされ、サーフェイス全体の色が過飽和状態になり隠されます。  
  
 ![モデルに適用されたフォン ライティング](../designers/media/digit-lighting-model.png "Digit-Lighting-Model")  
  
 3-D モデルにシェーダーを適用する方法の詳細については、「[方法: シェーダーを 3-D モデルに適用する](../designers/how-to-apply-a-shader-to-a-3-d-model.md)」を参照してください。  
  
## <a name="see-also"></a>関連項目  
 [方法: シェーダーを 3-D モデルに適用する](../designers/how-to-apply-a-shader-to-a-3-d-model.md)   
 [方法: シェーダーをエクスポートする](../designers/how-to-export-a-shader.md)   
 [方法: 基本ランバート シェーダーを作成する](../designers/how-to-create-a-basic-lambert-shader.md)   
 [シェーダー デザイナー](../designers/shader-designer.md)   
 [シェーダー デザイナー ノード](../designers/shader-designer-nodes.md)



