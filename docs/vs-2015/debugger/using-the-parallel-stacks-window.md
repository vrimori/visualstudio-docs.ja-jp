---
title: 使用の並列スタック ウィンドウ |Microsoft Docs
ms.custom: ''
ms.date: 2018-06-30
ms.prod: visual-studio-dev14
ms.reviewer: ''
ms.suite: ''
ms.technology:
- vs-ide-debug
ms.tgt_pltfrm: ''
ms.topic: article
f1_keywords:
- vs.debug.parallelstacks
dev_langs:
- FSharp
- VB
- CSharp
- C++
helpviewer_keywords:
- debugger, parallel tasks window
ms.assetid: f50efb78-5206-4803-bb42-426ef8133f2f
caps.latest.revision: 22
author: mikejo5000
ms.author: mikejo
manager: ghogen
ms.openlocfilehash: 01dd627143c072fea6dec99ea47ee4d6919dd62e
ms.sourcegitcommit: 55f7ce2d5d2e458e35c45787f1935b237ee5c9f8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/22/2018
ms.locfileid: "47535888"
---
# <a name="using-the-parallel-stacks-window"></a>[並列スタック] ウィンドウの使用
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

このトピックの最新バージョンをご覧[並列スタック ウィンドウを使用して](https://docs.microsoft.com/visualstudio/debugger/using-the-parallel-stacks-window)します。  
  
**並列スタック**ウィンドウで、マルチ スレッド アプリケーションをデバッグする場合に便利です。 その**スレッド ビュー**アプリケーションのすべてのスレッドの呼び出し履歴情報が表示されます。 これを使用して、スレッドとそれらのスレッドのスタック フレームの間を移動できます。 マネージ コードで、**タスク ビュー**呼び出しの履歴が表示されます<xref:System.Threading.Tasks.Task?displayProperty=fullName>オブジェクト。 ネイティブ コードで、**タスク ビュー**呼び出しの履歴が表示されます[タスク グループ](http://msdn.microsoft.com/library/42f05ac3-2098-494a-ba84-737fcdcad077)、[並列アルゴリズム](http://msdn.microsoft.com/library/045dca7b-4d73-4558-a44c-383b88a28473)、[非同期エージェント](http://msdn.microsoft.com/library/6cf6ccc6-87f1-4e14-af15-ea8ba58fef1a)、および[軽量タスク](http://msdn.microsoft.com/library/9aba278c-e0c9-4ede-b7c6-fedf7a365d90)します。  
  
## <a name="threads-view"></a>スレッド ビュー  
 次の図は、Main から A、B の順に移行した後に外部コードに移った 1 つのスレッドと、 同じ外部コードから始まり A に移行した他の 2 つのスレッドを示しています。そのうちの 1 つは、その後 B を経て外部コードに移り、もう一方は C を経て AnonymousMethod に移っています。  
  
 ![並列スタック ウィンドウのビューをスレッド](../debugger/media/parallel-stacksthread.png "Parallel_StacksThread")  
  
 図に示すように、現在のスレッドの呼び出しパスは青で強調表示され、アクティブなスタック フレームは黄色の矢印で示されます。 別のメソッドを選択して、現在のスタック フレームを変更することができます、**並列スタック**ウィンドウ。 このとき、選択したメソッドが既に現在のスレッドの一部であるか別のスレッドの一部であるかに応じて、現在のスレッドも切り替わる場合があります。 次の表の主な機能、**並列スタック**ウィンドウの図に示すようにします。  
  
|コールアウトの文字|要素名|説明|  
|--------------------|------------------|-----------------|  
|A|呼び出し履歴のセグメントまたはノード|1 つ以上のスレッドの一連のメソッドのコンテキストが含まれます。 ノードに矢印の線が結ばれていない場合は、スレッドのすべての呼び出しパスを表します。|  
|B|青の強調表示|現在のスレッドの呼び出しパスを示します。|  
|C|矢印の線|ノードを結び、スレッドのすべての呼び出しパスを構成します。|  
|D|ノードのヘッダーのツールヒント|呼び出しパスがこのノードを共有する各スレッドの ID とユーザー定義名を示します。|  
|E|メソッドのコンテキスト|同じメソッド内の 1 つ以上のスタック フレームを表します。|  
|F|メソッドのコンテキストのツールヒント|スレッド ビューで、すべてのスレッド テーブルに表示のような**スレッド**ウィンドウ。 タスク ビューで、すべてのタスク テーブルに表示のような**並列タスク**ウィンドウ。|  
  
 また、並列スタック ウィンドウが表示されます、**バード アイ ビュー**ウィンドウに収まるようにグラフが大きすぎる場合は、メイン ウィンドウのアイコン。 このアイコンをクリックすると、ウィンドウ内にグラフ全体を表示できます。  
  
## <a name="method-context-icons"></a>メソッドのコンテキストのアイコン  
 アクティブなスタック フレームと現在のスタック フレームに関する情報を示すアイコンを次の表に示します。  
  
|||  
|-|-|  
|アイコン|説明|  
|![並列スタックの黄色の矢印](../debugger/media/icon-parallelyellowarrow.gif "Icon_ParallelYellowArrow")|メソッドのコンテキストに現在のスレッドのアクティブなスタック フレームが含まれていることを示します。|  
|![並列スタック スレッドのアイコン](../debugger/media/icon-parallelthreads.gif "Icon_ParallelThreads")|メソッドのコンテキストに現在のスレッド以外のアクティブなスタック フレームが含まれていることを示します。|  
|![並列スタックの緑色の矢印](../debugger/media/icon-parallelgreenarrow.gif "Icon_ParallelGreenArrow")|メソッドのコンテキストに現在のスタック フレームが含まれていることを示します。 対応するメソッド名は、表示されるすべてのノードで太字で表されます。|  
  
## <a name="toolbar-controls"></a>ツール バー コントロール  
 次の図と表は、[並列スタック] のツール バーで使用できるコントロールを示したものです。  
  
 ![並列スタック ウィンドウのツールバー](../debugger/media/parallel-stackstoolbar.png "Parallel_StacksToolbar")  
  
|コールアウトの文字|コントロール|説明|  
|--------------------|-------------|-----------------|  
|A|[スレッド]/[タスク] ボックス|スレッドの呼び出し履歴とタスクの呼び出し履歴の表示を切り替えます。 詳細については、「タスク ビュー」および「スレッド ビュー」を参照してください。|  
|B|[フラグが設定されたもののみを表示]|その他のデバッグ ウィンドウでなどフラグが立てられているスレッドのみの呼び出し履歴が表示されます、 **GPU スレッド**ウィンドウと**並列ウォッチ**ウィンドウ。|  
|C|[メソッド ビューの切り替え]|スタック ビューとメソッド ビューを切り替えます。 詳細については、「メソッド ビュー」を参照してください。|  
|D|[現在のスタック フレームに自動スクロール]|現在のスタック フレームがビューに表示されるように図を自動でスクロールします。 この機能は、他のウィンドウから現在のスタック フレームを変更する場合や、大きなダイアグラム内で新しいブレークポイントにヒットした場合に役立ちます。|  
|E|[ズーム コントロールの切り替え]|ズーム コントロールの表示と非表示を切り替えます。 CTRL キーを押すと、ズーム コントロールの可視性に関係なく、マウス ホイールを回すかを使用して、拡大することも**CTRL + SHIFT + '+'** にズーム インして**CTRL + SHIFT +'-'** ズーム アウトします。キーを押して**ctrl + f8**は画面に合わせてズームします。|  
  
### <a name="context-menu-items"></a>コンテキスト メニュー項目  
 次の図と表は、スレッド ビューまたはタスク ビューでメソッドのコンテキストを右クリックしたときに使用できるショートカット メニュー項目を示したものです。 最後の 6 つの項目は、[呼び出し履歴] ウィンドウの機能をそのまま使用したものであり、動作も同じになります。  
  
 ![並列スタック ウィンドウのショートカット メニュー](../debugger/media/parallel-contmenu.png "Parallel_ContMenu")  
  
|メニュー項目|説明|  
|---------------|-----------------|  
|フラグ|選択した項目にフラグを設定します。|  
|フラグ解除|選択した項目のフラグを解除します。|  
|凍結|選択した項目を凍結します。|  
|凍結解除|選択した項目の凍結を解除します。|  
|[タスクに移動] ([スレッドに移動])|実行される機能はツール バーのボックスと同じですが、同じスタック フレームが強調表示されたままになります。|  
|[ソース コードへ移動]|ユーザーが右クリックしたスタック フレームに対応するソース コード内の位置に移動します。|  
|[フレームに切り替え]|[呼び出し履歴] ウィンドウの対応するメニュー コマンドと同じです。 ただし、[並列スタック] では、複数のフレームが 1 つのメソッドのコンテキストに対応する場合があります。 そのため、このメニュー項目には、それぞれ特定のスタック フレームを表すサブメニューがあります。 現在のスレッドのスタック フレームが 1 つだけの場合は、そのスタック フレームに対応するメニューが選択されます。|  
|[逆アセンブルを表示]|ユーザーが右クリックしたスタック フレームに対応する逆アセンブル ウィンドウ内の位置に移動します。|  
|外部コードの表示|外部コードの表示と非表示を切り替えます。|  
|[16 進数で表示]|10 進数と 16 進数の表示を切り替えます。|  
|シンボルの読み込み情報|対応するダイアログ ボックスを表示します。|  
|[シンボルの設定]|対応するダイアログ ボックスを表示します。|  
  
## <a name="tasks-view"></a>タスク ビュー  
 アプリケーションが使用されている場合<xref:System.Threading.Tasks.Task?displayProperty=fullName>オブジェクト (マネージ コード) または`task_handle`並列処理を表現するオブジェクト (ネイティブ コード) が、並列スタック ウィンドウのツールバーのコンボ ボックスを使用に切り替える*タスク ビュー*します。 タスク ビューには、スレッドではなくタスクの呼び出し履歴が表示されます。 タスク ビューがスレッド ビューと異なる点は次のとおりです。  
  
-   タスクを実行していないスレッドの呼び出し履歴は表示されません。  
  
-   タスクを実行しているスレッドの呼び出し履歴は上下の項目が非表示になり、タスクに関連する重要なフレームだけが表示されます。  
  
-   1 つのスレッドに複数のタスクがある場合、それらのタスクの呼び出し履歴が個々のノードに分けられます。  
  
 次の図は、右側に [並列スタック] のタスク ビュー、左側に対応するスレッド ビューを示したものです。  
  
 ![並列スタック ウィンドウのビューをタスク](../debugger/media/parallel-tasksview.png "Parallel_TasksView")  
  
 すべての呼び出し履歴を表示する切り替えスレッド ビューに戻るスタック フレームを右クリックし、をクリックして**スレッドに移動**します。  
  
 前の表で説明したように、メソッドのコンテキストにカーソルを置くと詳しい情報を表示できます。 次の図は、スレッド ビューおよびタスク ビューのツールヒントに表示される情報を示しています。  
  
 ![並列スタック ウィンドウのツールヒント](../debugger/media/parallel-stack-tooltips.png "Parallel_Stack_Tooltips")  
  
## <a name="method-view"></a>メソッド ビュー  
 スレッド ビューまたはタスク ビューでツール バーの [メソッド ビュー] アイコンをクリックすると、現在のメソッドを中心とするグラフを表示できます。 メソッド ビューを使用すると、現在のメソッドを呼び出すか現在のメソッドから呼び出されるすべてのスレッドのすべてのメソッドを一目で確認できます。 次の図は、スレッド ビューと共に、同じ情報がメソッド ビューではどのように表示されるかを示したものです。  
  
 ![並列スタック ウィンドウのメソッド ビュー](../debugger/media/parallel-methodview.png "Parallel_MethodView")  
  
 新しいスタック フレームに切り替えると、そのメソッドが現在のメソッドになり、新しいメソッドのすべての呼び出し元と呼び出し先がウィンドウに表示されます。 これにより、そのメソッドが呼び出し履歴に含まれているかどうかに応じて、一部のスレッドの表示と非表示が切り替わる場合があります。 スタック ビューに戻るには、ツール バーの [メソッド ビュー] ボタンをもう一度クリックします。  
  
## <a name="see-also"></a>関連項目  
 [チュートリアル: 並行アプリケーションのデバッグ](../debugger/walkthrough-debugging-a-parallel-application.md)   
 [デバッガーの基本事項](../debugger/debugger-basics.md)   
 [マネージド コードをデバッグする](../debugger/debugging-managed-code.md)   
 [並列プログラミング](http://msdn.microsoft.com/library/4d83c690-ad2d-489e-a2e0-b85b898a672d)   
 [タスク ウィンドウを使用します。](../debugger/using-the-tasks-window.md)   
 [チュートリアル: 並行アプリケーションのデバッグ](../debugger/walkthrough-debugging-a-parallel-application.md)   
 [Task クラス](../extensibility/debugger/task-class-internal-members.md)



