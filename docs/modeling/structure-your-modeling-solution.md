---
title: "モデリング ソリューションの構築 |Microsoft ドキュメント"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 2ba70ba4-2cea-4e01-93c2-055903d59470
caps.latest.revision: 14
author: alexhomer1
ms.author: ahomer
manager: douge
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: fd26c504273cae739ccbeef5e406891def732985
ms.openlocfilehash: b817affe78e53e0d010f5bb62676192fa90fd49e
ms.lasthandoff: 02/22/2017

---
# <a name="structure-your-modeling-solution"></a>モデリング ソリューションの構築
開発プロジェクトでモデルを効果的に使用するため、チーム メンバーは、プロジェクトのさまざまな部分のモデルを同時に作業する必要があります。 このトピックでは、アプリケーションを、レイヤー図全体の各レイヤーに対応する複数の部分に分割するスキームを提案します。  
  
 プロジェクトやサブプロジェクトを迅速に開始するため、選択したプロジェクト構造に準拠したプロジェクト テンプレートを用意すると便利です。 ここでは、このようなテンプレートを作成して使用する方法について説明します。  
  
 このトピックでは、複数のチーム メンバーと、複数のチームを必要とするほどの大規模なプロジェクトでの作業を想定しています。 プロジェクトのコードとモデルは、[!INCLUDE[esprtfs](../code-quality/includes/esprtfs_md.md)] などのソース管理システムに格納されます。 少なくとも数人のチーム メンバーが Visual Studio を使用してモデルを開発しているときに、他のチーム メンバーは他のバージョンの Visual Studio を使って、モデルを表示できます。  
  
 各ツールとモデリング機能をサポートする Visual Studio のバージョンを確認するに、次を参照してください。[アーキテクチャとモデリング ツールのバージョン サポート](../modeling/what-s-new-for-design-in-visual-studio.md#VersionSupport)します。  
  
## <a name="solution-structure"></a>ソリューション構造  
 中規模または大規模プロジェクトでは、チームの構造はアプリケーションの構造に基づいています。 各チームが、Visual Studio ソリューションを使用します。  
  
#### <a name="to-divide-an-application-into-layers"></a>1 つのアプリケーションを複数のレイヤーに分割するには  
  
1.  Web アプリケーション、サービス アプリケーション、デスクトップ アプリケーションなど、アプリケーションの構造に基づいて、ソリューションの構造を決定します。 さまざまな一般的なアーキテクチャは、後ほど[マイクロソフト アプリケーション アーキテクチャ ガイドの「アプリケーション Archetypes](http://go.microsoft.com/fwlink/?LinkId=196681)します。  
  
2.  
          [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)] ソリューションを作成します。このソリューションを「アーキテクチャ ソリューション」と呼びます。 このソリューションは、システムの全体設計の作成に使われます。 このソリューションにはモデルは含まれますが、コードは含まれません。  
  
     このソリューションには、依存関係図を追加します。 依存関係図に、アプリケーション用に選択したアーキテクチャを描画します。 たとえば、この図には、プレゼンテーション、ロジック、データの各レイヤーと、そのレイヤー間の依存関係が示されることがあります。  
  
4.  アーキテクチャの依存関係図では、レイヤーごとに個別の Visual Studio ソリューションを作成します。  
  
     これらのソリューションを使って、レイヤーのコードを開発します。  
  
5.  レイヤーおよびレイヤーのすべてに共通する概念設計を表すモデルを作成します。 すべてのモデルがアーキテクチャ ソリューションから確認できるように、また関連モデルが各レイヤーから確認できるように、モデルを配置します。  
  
     これは、次の手順のいずれかを使用して実現できます。 最初の方法は、レイヤーごとに個別のモデリング プロジェクトを作成する方法、2 つ目の方法は、レイヤー間で共有されるモデリング プロジェクトを&1; つ作成する方法です。  
  
    ###### <a name="to-use-a-separate-modeling-project-for-each-layer"></a>レイヤーごとに個別のモデリング プロジェクトを使用するには  
  
    1.  各レイヤー ソリューションでモデリング プロジェクトを作成します。  
  
         このモデルは、要件とそのレイヤーのデザインを記述する図が格納されます。 依存関係を示すダイアグラムを入れ子になったレイヤーを含めることもできます。  
  
         これで、レイヤーごとのモデルと、アプリケーション アーキテクチャ用のモデルが準備できました。 各モデルは、独自のソリューションに含まれます。 これにより、チーム メンバーが同時に、複数のレイヤー上で作業できます。  
  
    2.  アーキテクチャ ソリューションに、各レイヤー ソリューションのモデリング プロジェクトを追加します。 そのためには、アーキテクチャ ソリューションを開きます。 ソリューション エクスプ ローラーでソリューション ノードを右クリックし、追加 をポイントし、クリックして**既存のプロジェクト**します。 1 つのレイヤー ソリューションのモデリング プロジェクト (.modelproj) に移動します。  
  
         各モデルは&2; つのソリューション ("ホーム" ソリューションとアーキテクチャ ソリューション) に表示されるようになりました。  
  
    3.  各レイヤーのモデリング プロジェクトへの依存関係図を追加します。 アーキテクチャの依存関係図のコピーを開始します。 依存関係図の依存関係がない部分を削除することができます。  
  
         このレイヤーの詳細な構造を表す依存関係図を追加することもできます。  
  
         これらの図は、このレイヤーで開発されたコードの検証に使用されます。  
  
    4.  アーキテクチャ ソリューションでは、Visual Studio を使って、すべてのレイヤーの要件と設計モデルを編集します。  
  
         各レイヤー ソリューションでは、モデルを参照しながら、そのレイヤーのコードを開発します。 開発が終了し、同じコンピューターを使ってモデルを更新する必要がなくなったら、モデルの作成を実行できないバージョンの Visual Studio を使って、モデルの読み取りとコードの開発を実行できます。 また、これらのバージョンで、モデルからコードを生成することもできます。  
  
     この方法を使用すると、同時にレイヤー モデルを編集する複数の開発者によって、干渉が発生することはありません。  
  
     ただし、モデルは個別に作成されるため、共通の概念を参照することは難しくなります。 各モデルには、他のレイヤーやアーキテクチャと依存関係にある要素の独自コピーが存在する必要があります。 各レイヤーの依存関係ダイアグラムは、アーキテクチャの依存関係図との同期保持する必要があります。 これを実現するツールを開発することはできますが、これらの要素の変更時に同期を維持するのは困難です。  
  
    ###### <a name="to-use-a-separate-package-for-each-layer"></a>レイヤーごとに個別のパッケージを使用するには  
  
    1.  各レイヤーのソリューションで、アーキテクチャ モデリング プロジェクトを追加します。 ソリューション エクスプ ローラーでソリューション ノードを右クリックし、順にポイント**追加**、クリックして**既存のプロジェクト**します。 これで&1; つのモデリング プロジェクトに、すべてのソリューション (アーキテクチャ プロジェクトと各レイヤーの開発プロジェクト) からアクセスできるようになりました。  
  
    2.  共有モデルで各レイヤーのパッケージを作成します。 ソリューション エクスプ ローラーで、モデリング プロジェクトを選択します。 UML モデル エクスプ ローラーで、モデル ルート ノードを右クリックし、順にポイント**追加**、クリックして**パッケージ**します。  
  
         各パッケージは、要件との対応するレイヤーのデザインを記述する図が格納されます。  
  
    3.  必要に応じて、各レイヤーの内部構造体に、ローカルの依存関係図を追加します。  
  
     この方法を使用すると、各レイヤーの設計要素から、レイヤーの設定要素と、そのレイヤーが依存している共通アーキテクチャを直接参照することができます。  
  
     複数のパッケージに対する同時作業では競合が発生することがありますが、パッケージは個別ファイルに保存されるため、競合を非常に簡単に管理できます。
  
## <a name="creating-architecture-templates"></a>アーキテクチャ テンプレートの作成  
 実際は、すべての Visual Studio ソリューションを同時に作成することはありませんが、プロジェクトが進行するにつれて、ソリューションが追加されます。 将来のプロジェクトで、同じソリューションの構造が使われる可能性もあります。  新しいソリューションを短時間で作成しやすくするため、ソリューションまたはプロジェクトのテンプレートを作成できます。 簡単に他のコンピューターに配布してインストールできるようにするため、Visual Studio Integration Extension (VSIX) でテンプレートをキャプチャすることができます。  
  
 たとえば、プレゼンテーション、ビジネス、およびデータの各レイヤーが存在するソリューションを頻繁に使用する場合、その構造を持つ新しいソリューションを作成するテンプレートを構成できます。  
  
#### <a name="to-create-a-solution-template"></a>ソリューション テンプレートを作成するには  
  
1.  [テンプレートのエクスポート ウィザードのインストールをダウンロードして](http://go.microsoft.com/fwlink/?LinkId=196686)していない場合は、です。  
  
2.  将来のプロジェクトの開始点として使用するソリューション構造を作成します。  
  
3.  **[ファイル]** メニューの **[VSIX としてテンプレートをエクスポート]**をクリックします。 **VSIX ウィザードとテンプレートのエクスポート**が開きます。  
  
4.  ウィザードの指示に従って、テンプレートに含めるプロジェクトを追加し、テンプレートの名前と説明を入力して、出力する場所を指定します。  
  
> [!NOTE]
>  このトピックの内容は、Visual Studio ALM Rangers が作成した『Visual Studio アーキテクチャ ツーリング ガイダンス』から抽出して、わかりやすくしたものです。このガイダンスは、Most Valued Professional (MVP)、Microsoft Services、および Visual Studio 製品チームとライターのコラボレーションにより作成されました。 [ここをクリックすると、包括的なガイダンス パッケージをダウンロードします。](http://go.microsoft.com/fwlink/?LinkID=191984)  
  
## <a name="related-materials"></a>関連資料  
 [モデルを整理および](http://channel9.msdn.com/posts/clinted/UML-with-VS-2010-Part-9-Organizing-and-Managing-Your-Models/)- Clint Edmondson によるビデオ。  
  
 [Visual Studio アーキテクチャ ツー リング ガイダンス](../modeling/visual-studio-architecture-tooling-guidance.md)– チームでのモデルの管理に関するガイダンスをさらに  
  
## <a name="see-also"></a>関連項目  
 [モデルと図のバージョン管理を管理します。](../modeling/manage-models-and-diagrams-under-version-control.md)   
 [開発プロセス内でのモデルの使用](../modeling/use-models-in-your-development-process.md)

